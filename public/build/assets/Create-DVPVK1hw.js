import{u as k,a as w,r as c,j as e,H as N,L as y}from"./app-B_Mbdn19.js";import{A as C}from"./AdminLayout-g5Vt-a8U.js";import{I as l}from"./InputLabel-DKZrLUt7.js";import{I as T}from"./InputText-BzWTL9kz.js";import{T as I}from"./TextArea-C-poIknO.js";import{I as L}from"./ImageCropperModal-DsmU1P-F.js";/* empty css            */import"./Modal-Bnb--VwK.js";function M(){const{addToast:m}=k(),{data:n,setData:s,post:u,processing:x,errors:a}=w({title:"",category:"General",content:"",image:null}),[o,p]=c.useState(null),[h,i]=c.useState(!1),[g,b]=c.useState(null),j=t=>{const r=t.target.files[0];if(r){const d=new FileReader;d.readAsDataURL(r),d.onload=()=>{b(d.result),i(!0)}}t.target.value=null},v=async t=>{const r=new File([t],"news_cover.jpg",{type:"image/jpeg"});s("image",r),p(URL.createObjectURL(t)),i(!1)},f=t=>{t.preventDefault(),u(route("admin.news.store"),{onSuccess:()=>m("Berita berhasil diterbitkan.","success"),onError:()=>m("Gagal menerbitkan berita.","error")})};return e.jsxs(C,{children:[e.jsx(N,{title:"Buat Berita Baru"}),e.jsx(L,{show:h,onClose:()=>i(!1),imageSrc:g,onCropComplete:v,aspectRatio:16/9}),e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(y,{href:route("admin.news.index"),className:"text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx("i",{className:"fa-solid fa-arrow-left"})}),e.jsx("h1",{className:"text-2xl font-black text-slate-900 dark:text-white",children:"Tulis Artikel Baru"})]})}),e.jsxs("form",{onSubmit:f,className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm space-y-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"title",value:"Judul Artikel"}),e.jsx(T,{id:"title",value:n.title,onChange:t=>s("title",t.target.value),placeholder:"Masukkan judul yang menarik...",className:"mt-1 font-bold text-lg"}),a.title&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.title})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"content",value:"Isi Konten"}),e.jsx(I,{id:"content",value:n.content,onChange:t=>s("content",t.target.value),rows:"15",className:"mt-1 w-full font-normal leading-relaxed",placeholder:"Tulis konten artikel Anda di sini..."}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-right",children:"* Gunakan tag HTML dasar untuk format (p, b, i, ul, li) jika diperlukan."}),a.content&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.content})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm space-y-4",children:[e.jsx("h3",{className:"font-bold text-sm text-slate-800 dark:text-white border-b border-slate-100 dark:border-slate-800 pb-3",children:"Pengaturan Publikasi"}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"category",value:"Kategori"}),e.jsxs("select",{id:"category",value:n.category,onChange:t=>s("category",t.target.value),className:"w-full mt-1 border border-slate-300 dark:border-slate-600 rounded-xl py-2 px-3 text-sm focus:ring-brand-500 bg-slate-50 dark:bg-slate-800 dark:text-white outline-none",children:[e.jsx("option",{value:"General",children:"General"}),e.jsx("option",{value:"Campus",children:"Berita Kampus"}),e.jsx("option",{value:"Technology",children:"Teknologi"}),e.jsx("option",{value:"Career",children:"Karir & Tips"}),e.jsx("option",{value:"Event",children:"Event (Manual)"})]}),a.category&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.category})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{type:"submit",disabled:x,className:"w-full py-3 bg-brand-600 hover:bg-brand-700 text-white font-bold text-sm rounded-xl shadow-lg shadow-brand-500/30 transition-all flex items-center justify-center gap-2",children:x?"Menerbitkan...":"Terbitkan Berita"})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm",children:[e.jsx(l,{value:"Gambar Unggulan (Cover)"}),e.jsx("div",{className:"mt-2 relative group",children:e.jsxs("div",{className:`w-full aspect-video rounded-xl overflow-hidden border-2 border-dashed flex items-center justify-center relative transition-all
                                    ${o?"border-transparent":"border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"}`,children:[o?e.jsx("img",{src:o,alt:"Preview",className:"w-full h-full object-cover"}):e.jsxs("div",{className:"text-center text-slate-400 p-4",children:[e.jsx("i",{className:"fa-solid fa-image text-3xl mb-2"}),e.jsx("p",{className:"text-xs",children:"Klik untuk upload gambar"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"absolute inset-0 opacity-0 cursor-pointer z-10"})]})}),a.image&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.image}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-center",children:"Format: 16:9 (Landscape)"})]})]})]})]})]})}export{M as default};

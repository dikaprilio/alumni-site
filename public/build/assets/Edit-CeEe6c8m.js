import{u as N,a as w,r as m,j as e,H as y,L as k,b as C}from"./app-B_Mbdn19.js";import{A as I}from"./AdminLayout-g5Vt-a8U.js";import{I as i}from"./InputLabel-DKZrLUt7.js";import{I as S}from"./InputText-BzWTL9kz.js";import{T}from"./TextArea-C-poIknO.js";import{I as E}from"./ImageCropperModal-DsmU1P-F.js";/* empty css            */import"./Modal-Bnb--VwK.js";function _({news:a}){const{addToast:x}=N(),{data:r,setData:l,processing:u,errors:s}=w({title:a.title||"",category:a.category||"General",content:a.content||"",image:null,_method:"PUT"}),[n,p]=m.useState(a.image?`/storage/${a.image}`:null),[g,d]=m.useState(!1),[h,b]=m.useState(null),j=t=>{const o=t.target.files[0];if(o){const c=new FileReader;c.readAsDataURL(o),c.onload=()=>{b(c.result),d(!0)}}t.target.value=null},v=async t=>{const o=new File([t],"news_cover_edit.jpg",{type:"image/jpeg"});l("image",o),p(URL.createObjectURL(t)),d(!1)},f=t=>{t.preventDefault(),C.post(route("admin.news.update",a.id),r,{onSuccess:()=>x("Berita berhasil diperbarui.","success"),onError:()=>x("Gagal memperbarui berita.","error")})};return e.jsxs(I,{children:[e.jsx(y,{title:"Edit Artikel"}),e.jsx(E,{show:g,onClose:()=>d(!1),imageSrc:h,onCropComplete:v,aspectRatio:16/9}),e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsx("div",{className:"mb-8 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(k,{href:route("admin.news.index"),className:"text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx("i",{className:"fa-solid fa-arrow-left"})}),e.jsx("h1",{className:"text-2xl font-black text-slate-900 dark:text-white",children:"Edit Artikel"})]})}),e.jsxs("form",{onSubmit:f,className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm space-y-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"title",value:"Judul Artikel"}),e.jsx(S,{id:"title",value:r.title,onChange:t=>l("title",t.target.value),className:"mt-1 font-bold text-lg"}),s.title&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.title})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"content",value:"Isi Konten"}),e.jsx(T,{id:"content",value:r.content,onChange:t=>l("content",t.target.value),rows:"15",className:"mt-1 w-full"}),s.content&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.content})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm space-y-4",children:[e.jsx("h3",{className:"font-bold text-sm border-b border-slate-100 dark:border-slate-800 pb-3",children:"Pengaturan"}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"category",value:"Kategori"}),e.jsxs("select",{id:"category",value:r.category,onChange:t=>l("category",t.target.value),className:"w-full mt-1 border border-slate-300 dark:border-slate-600 rounded-xl py-2 px-3 text-sm bg-slate-50 dark:bg-slate-800 dark:text-white outline-none",children:[e.jsx("option",{value:"General",children:"General"}),e.jsx("option",{value:"Campus",children:"Berita Kampus"}),e.jsx("option",{value:"Technology",children:"Teknologi"}),e.jsx("option",{value:"Career",children:"Karir & Tips"}),e.jsx("option",{value:"Event",children:"Event (Manual)"})]}),s.category&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.category})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{type:"submit",disabled:u,className:"w-full py-3 bg-brand-600 hover:bg-brand-700 text-white font-bold text-sm rounded-xl shadow-lg transition-all",children:u?"Menyimpan...":"Simpan Perubahan"})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm",children:[e.jsx(i,{value:"Gambar Unggulan"}),e.jsx("div",{className:"mt-2 relative group",children:e.jsxs("div",{className:`w-full aspect-video rounded-xl overflow-hidden border-2 border-dashed flex items-center justify-center relative transition-all ${n?"border-transparent":"border-slate-300 bg-slate-50 dark:bg-slate-800 dark:border-slate-700"}`,children:[n?e.jsx("img",{src:n,alt:"Preview",className:"w-full h-full object-cover"}):e.jsxs("div",{className:"text-center text-slate-400 p-4",children:[e.jsx("i",{className:"fa-solid fa-image text-3xl mb-2"}),e.jsx("p",{className:"text-xs",children:"Klik untuk ganti gambar"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"absolute inset-0 opacity-0 cursor-pointer z-10"})]})}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-center",children:"Format: 16:9 (Landscape)"})]})]})]})]})]})}export{_ as default};

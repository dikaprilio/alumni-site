import{u as w,a as k,r as m,j as e,H as y,L as C,b as S}from"./app-B_Mbdn19.js";import{A as _}from"./AdminLayout-g5Vt-a8U.js";import{I as i}from"./InputLabel-DKZrLUt7.js";import{I as u}from"./InputText-BzWTL9kz.js";import{T as E}from"./TextArea-C-poIknO.js";import{I as L}from"./ImageCropperModal-DsmU1P-F.js";/* empty css            */import"./Modal-Bnb--VwK.js";function U({event:s}){const{addToast:x}=w(),{data:r,setData:l,processing:p,errors:a}=k({title:s.title||"",category:s.category||"Webinar",event_date:s.event_date?new Date(s.event_date).toISOString().slice(0,16):"",location:s.location||"",description:s.description||"",image:null,_method:"PUT"}),[n,g]=m.useState(s.image?`/storage/${s.image}`:null),[h,d]=m.useState(!1),[b,v]=m.useState(null),j=t=>{const o=t.target.files[0];if(o){const c=new FileReader;c.readAsDataURL(o),c.onload=()=>{v(c.result),d(!0)}}t.target.value=null},f=async t=>{const o=new File([t],"event_banner_edit.jpg",{type:"image/jpeg"});l("image",o),g(URL.createObjectURL(t)),d(!1)},N=t=>{t.preventDefault(),S.post(route("admin.events.update",s.id),r,{onSuccess:()=>x("Event berhasil diperbarui.","success"),onError:()=>x("Gagal memperbarui event.","error")})};return e.jsxs(_,{children:[e.jsx(y,{title:"Edit Event"}),e.jsx(L,{show:h,onClose:()=>d(!1),imageSrc:b,onCropComplete:f,aspectRatio:16/9}),e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsx("div",{className:"mb-8 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(C,{href:route("admin.events.index"),className:"text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx("i",{className:"fa-solid fa-arrow-left"})}),e.jsx("h1",{className:"text-2xl font-black text-slate-900 dark:text-white",children:"Edit Agenda Event"})]})}),e.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm space-y-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"title",value:"Nama Event"}),e.jsx(u,{id:"title",value:r.title,onChange:t=>l("title",t.target.value),className:"mt-1 font-bold text-lg"}),a.title&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.title})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"event_date",value:"Tanggal & Waktu"}),e.jsx("input",{type:"datetime-local",id:"event_date",value:r.event_date,onChange:t=>l("event_date",t.target.value),className:"w-full mt-1 border border-slate-300 dark:border-slate-600 rounded-xl py-2.5 px-4 text-sm focus:ring-brand-500 bg-slate-50 dark:bg-slate-800 dark:text-white outline-none"}),a.event_date&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.event_date})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"location",value:"Lokasi / Link Meeting"}),e.jsx(u,{id:"location",value:r.location,onChange:t=>l("location",t.target.value),className:"mt-1"}),a.location&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.location})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"description",value:"Deskripsi Lengkap"}),e.jsx(E,{id:"description",value:r.description,onChange:t=>l("description",t.target.value),rows:"12",className:"mt-1 w-full"}),a.description&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.description})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm space-y-4",children:[e.jsx("h3",{className:"font-bold text-sm border-b border-slate-100 dark:border-slate-800 pb-3",children:"Detail Publikasi"}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"category",value:"Kategori Event"}),e.jsxs("select",{id:"category",value:r.category,onChange:t=>l("category",t.target.value),className:"w-full mt-1 border border-slate-300 dark:border-slate-600 rounded-xl py-2 px-3 text-sm focus:ring-brand-500 bg-slate-50 dark:bg-slate-800 dark:text-white outline-none",children:[e.jsx("option",{value:"Webinar",children:"Webinar"}),e.jsx("option",{value:"Workshop",children:"Workshop"}),e.jsx("option",{value:"Seminar",children:"Seminar"}),e.jsx("option",{value:"Reuni",children:"Reuni Alumni"}),e.jsx("option",{value:"Lowongan",children:"Job Fair / Recruitment"}),e.jsx("option",{value:"General",children:"Umum"})]}),a.category&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.category})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-brand-600 hover:bg-brand-700 text-white font-bold text-sm rounded-xl shadow-lg transition-all",children:p?"Menyimpan...":"Simpan Perubahan"})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm",children:[e.jsx(i,{value:"Banner / Poster Event"}),e.jsx("div",{className:"mt-2 relative group",children:e.jsxs("div",{className:`w-full aspect-video rounded-xl overflow-hidden border-2 border-dashed flex items-center justify-center relative transition-all ${n?"border-transparent":"border-slate-300 bg-slate-50 dark:bg-slate-800 dark:border-slate-700"}`,children:[n?e.jsx("img",{src:n,alt:"Preview",className:"w-full h-full object-cover"}):e.jsxs("div",{className:"text-center text-slate-400 p-4",children:[e.jsx("i",{className:"fa-solid fa-image text-3xl mb-2"}),e.jsx("p",{className:"text-xs",children:"Klik untuk ganti banner"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"absolute inset-0 opacity-0 cursor-pointer z-10"})]})}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-center",children:"Format: 16:9 (Landscape)"})]})]})]})]})]})}export{U as default};

import{u as A,r as t,b as j,j as e,H as E,L as p,R as T}from"./app-B_Mbdn19.js";import{l as G}from"./lodash-DakPdX_6.js";import{A as I}from"./AdminLayout-g5Vt-a8U.js";import{P}from"./Pagination-CF7X7-fb.js";import{D as R}from"./DeleteConfirmModal-BAH9MMz3.js";/* empty css            */import"./Modal-Bnb--VwK.js";const k=({category:s})=>{const r={Technology:"bg-blue-100 text-blue-600 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800",Campus:"bg-emerald-100 text-emerald-600 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800",Career:"bg-purple-100 text-purple-600 border-purple-200 dark:bg-purple-900/30 dark:text-purple-400 dark:border-purple-800",General:"bg-slate-100 text-slate-600 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700",Event:"bg-amber-100 text-amber-600 border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800"},n=r[s]||r.General;return e.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold border ${n}`,children:s})};function F({news:s,filters:r}){const{addToast:n}=A(),[i,N]=t.useState({search:r.search||"",category:r.category||""}),[h,u]=t.useState(!1),[o,v]=t.useState({}),[w,c]=t.useState(!1),[x,b]=t.useState(null),[y,m]=t.useState(!1),C=t.useCallback(G.debounce(a=>{j.get(route("admin.news.index"),a,{preserveState:!0,preserveScroll:!0,replace:!0,onFinish:()=>u(!1)})},400),[]),g=(a,d)=>{const l={...i,[a]:d};N(l),u(!0),C(l)},D=a=>{v(d=>({...d,[a]:!d[a]}))},f=a=>{b(a),c(!0)},S=()=>{x&&(m(!0),j.delete(route("admin.news.destroy",x.id),{onSuccess:()=>{c(!1),m(!1),b(null),n("Berita berhasil dihapus!","success")},onError:()=>{m(!1),n("Gagal menghapus berita.","error")}}))};return e.jsxs(I,{children:[e.jsx(E,{title:"News & Updates"}),e.jsxs("div",{className:"mb-6 flex flex-col md:flex-row md:items-center justify-between gap-4 animate-fade-in-down",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tight",children:"News & Updates"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Kelola artikel berita, pengumuman kampus, dan event."})]}),e.jsxs(p,{href:route("admin.news.create"),className:"bg-pink-600 hover:bg-pink-700 text-white px-6 py-2.5 rounded-full font-medium shadow-lg shadow-pink-500/30 transition-all flex items-center justify-center gap-2 transform hover:-translate-y-0.5 text-sm w-full md:w-auto",children:[e.jsx("i",{className:"fa-solid fa-pen-nib"})," Tulis Berita"]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-5 mb-6 shadow-sm space-y-4 transition-all hover:shadow-md",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("i",{className:`fa-solid fa-magnifying-glass absolute left-4 top-3.5 text-slate-400 text-sm transition-colors ${h?"text-brand-500":""}`}),e.jsx("input",{type:"text",placeholder:"Cari judul artikel, penulis, atau konten...",value:i.search,onChange:a=>g("search",a.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl text-sm text-slate-800 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all focus:scale-[1.005]"}),h&&e.jsx("div",{className:"absolute right-4 top-3.5",children:e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin text-brand-500 text-sm"})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.jsx("div",{className:"relative",children:e.jsxs("select",{value:i.category,onChange:a=>g("category",a.target.value),className:"w-full py-2 px-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl text-xs text-slate-600 dark:text-slate-300 focus:border-blue-500 outline-none cursor-pointer transition-colors hover:border-blue-300",children:[e.jsx("option",{value:"",children:"SEMUA KATEGORI"}),e.jsx("option",{value:"Technology",children:"Technology"}),e.jsx("option",{value:"Campus",children:"Campus"}),e.jsx("option",{value:"Career",children:"Career"}),e.jsx("option",{value:"Event",children:"Event"}),e.jsx("option",{value:"General",children:"General"})]})})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl overflow-hidden shadow-sm",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-800 text-[10px] uppercase tracking-wider text-slate-500 dark:text-slate-400 font-bold",children:[e.jsx("th",{className:"pl-4 pr-2 py-4 md:hidden w-8"}),e.jsx("th",{className:"px-2 md:px-6 py-4 min-w-[200px] md:min-w-0",children:"Artikel"}),e.jsx("th",{className:"px-6 py-4 hidden md:table-cell",children:"Kategori"}),e.jsx("th",{className:"px-6 py-4 hidden md:table-cell",children:"Penulis & Tanggal"}),e.jsx("th",{className:"px-6 py-4 hidden md:table-cell text-right",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:s.data.length>0?s.data.map((a,d)=>e.jsxs(T.Fragment,{children:[e.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors group cursor-pointer md:cursor-default ${o[a.id]?"bg-slate-50 dark:bg-slate-800/50":""}`,onClick:()=>D(a.id),children:[e.jsx("td",{className:"pl-4 pr-2 py-4 md:hidden align-middle",children:e.jsx("div",{className:`w-6 h-6 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-400 transition-transform duration-300 ${o[a.id]?"rotate-180 bg-blue-50 text-blue-500":""}`,children:e.jsx("i",{className:"fa-solid fa-chevron-down text-[10px]"})})}),e.jsx("td",{className:"px-2 md:px-6 py-4",children:e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("div",{className:"w-16 h-12 rounded-lg bg-slate-200 dark:bg-slate-700 overflow-hidden flex-shrink-0 border border-slate-100 dark:border-slate-600 group-hover:scale-105 transition-transform duration-300",children:a.image?e.jsx("img",{src:`/storage/${a.image}`,alt:"",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:e.jsx("i",{className:"fa-solid fa-image text-xs"})})}),e.jsxs("div",{className:"max-w-md min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white line-clamp-1 group-hover:text-blue-600 transition-colors",children:a.title}),e.jsxs("p",{className:"text-[11px] text-slate-500 mt-1 line-clamp-1 md:line-clamp-2",children:[a.content.replace(/<[^>]*>?/gm,"").substring(0,100),"..."]})]})]})}),e.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:e.jsx(k,{category:a.category||"General"})}),e.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:a.author?.name||"Admin"}),e.jsx("span",{className:"text-[10px] text-slate-500",children:new Date(a.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})})]})}),e.jsx("td",{className:"px-6 py-4 hidden md:table-cell text-right",onClick:l=>l.stopPropagation(),children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(p,{href:route("admin.news.edit",a.id),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-blue-100 dark:hover:bg-blue-900/30 text-slate-500 hover:text-blue-600 dark:text-slate-400 dark:hover:text-blue-400 transition-all hover:scale-110 active:scale-95",children:e.jsx("i",{className:"fa-solid fa-pen-to-square text-xs"})}),e.jsx("button",{onClick:()=>f(a),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-red-100 dark:hover:bg-red-900/30 text-slate-500 hover:text-red-600 dark:text-slate-400 dark:hover:text-red-400 transition-all hover:scale-110 active:scale-95",children:e.jsx("i",{className:"fa-solid fa-trash text-xs"})})]})})]}),o[a.id]&&e.jsx("tr",{className:"md:hidden bg-slate-50/50 dark:bg-slate-800/30 animate-slide-down",children:e.jsx("td",{colSpan:"2",className:"px-4 py-4 border-b border-slate-100 dark:border-slate-800",children:e.jsxs("div",{className:"space-y-4 text-sm",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center",children:[e.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider col-span-1",children:"Kategori"}),e.jsx("div",{className:"col-span-2",children:e.jsx(k,{category:a.category||"General"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 items-start",children:[e.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider col-span-1 pt-1",children:"Detail Info"}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-300",children:a.author?.name||"Admin"}),e.jsxs("p",{className:"text-[10px] text-slate-500 mt-1 flex items-center gap-1",children:[e.jsx("i",{className:"fa-regular fa-calendar"}),new Date(a.created_at).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-3 border-t border-slate-200 dark:border-slate-700 mt-2",children:[e.jsxs(p,{href:route("admin.news.edit",a.id),className:"flex-1 py-2 px-3 rounded-lg bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400 text-xs font-bold uppercase tracking-wider flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-pen"})," Edit"]}),e.jsxs("button",{onClick:l=>{l.stopPropagation(),f(a)},className:"flex-1 py-2 px-3 rounded-lg bg-red-50 text-red-600 dark:bg-red-900/30 dark:text-red-400 text-xs font-bold uppercase tracking-wider flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-trash"})," Hapus"]})]})]})})})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center justify-center animate-fade-in",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4 text-slate-300 dark:text-slate-600",children:e.jsx("i",{className:"fa-solid fa-newspaper text-2xl"})}),e.jsx("p",{className:"text-sm font-bold",children:"Belum ada berita yang diterbitkan."})]})})})})]})}),e.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800",children:e.jsx(P,{links:s.links})})]}),e.jsx(R,{show:w,onClose:()=>c(!1),onConfirm:S,processing:y,title:"Hapus Artikel?",description:`Apakah Anda yakin ingin menghapus artikel "${x?.title}"?`})]})}export{F as default};

import{u as w,r as t,j as e,H as y,R as D,b as u}from"./app-B_Mbdn19.js";import{A as S}from"./AdminLayout-g5Vt-a8U.js";import{I as P}from"./InputText-BzWTL9kz.js";import{P as C}from"./Pagination-CF7X7-fb.js";import{D as T}from"./DeleteConfirmModal-BAH9MMz3.js";/* empty css            */import"./Modal-Bnb--VwK.js";function K({opportunities:l}){const{addToast:n}=w(),[p,g]=t.useState(""),[c,j]=t.useState({}),[f,x]=t.useState(!1),[r,o]=t.useState(null),[b,d]=t.useState(!1),N=a=>{const s=a.target.value;g(s),u.get(route("admin.opportunities.index"),{search:s},{preserveState:!0,replace:!0})},k=a=>{j(s=>({...s,[a]:!s[a]}))},m=a=>{o(a),x(!0)},h=()=>{x(!1),o(null)},v=()=>{r&&(d(!0),u.delete(route("admin.opportunities.destroy",r.id),{onSuccess:()=>{h(),d(!1),n("Peluang karir berhasil dihapus.","success")},onError:()=>{d(!1),n("Gagal menghapus peluang karir.","error")}}))};return e.jsxs(S,{children:[e.jsx(y,{title:"Peluang Karir"}),e.jsxs("div",{className:"mb-6 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-slate-800 dark:text-white",children:"Peluang Karir"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Kelola lowongan kerja & magang dari alumni."})]}),e.jsx("div",{className:"w-full md:w-72",children:e.jsx(P,{placeholder:"Cari posisi atau perusahaan...",value:p,onChange:N,icon:"fa-search"})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[e.jsx("div",{className:"w-full",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-800 text-[10px] uppercase tracking-wider text-slate-500 dark:text-slate-400 font-bold",children:[e.jsx("th",{className:"pl-4 pr-2 py-4 md:hidden w-8"}),e.jsx("th",{className:"px-2 md:px-6 py-4",children:"Posisi / Perusahaan"}),e.jsx("th",{className:"hidden md:table-cell px-6 py-4",children:"Tipe"}),e.jsx("th",{className:"hidden md:table-cell px-6 py-4",children:"Diposting Oleh"}),e.jsx("th",{className:"hidden md:table-cell px-6 py-4",children:"Lokasi"}),e.jsx("th",{className:"hidden md:table-cell px-6 py-4 text-right",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:l.data.length>0?l.data.map((a,s)=>e.jsxs(D.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors group cursor-pointer md:cursor-default",onClick:()=>k(a.id),children:[e.jsx("td",{className:"pl-4 pr-2 py-4 md:hidden align-middle",children:e.jsx("div",{className:`w-6 h-6 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-400 transition-transform duration-300 ${c[a.id]?"rotate-180 bg-blue-50 text-blue-500":""}`,children:e.jsx("i",{className:"fa-solid fa-chevron-down text-[10px]"})})}),e.jsxs("td",{className:"px-2 md:px-6 py-4",children:[e.jsx("div",{className:"font-bold text-slate-800 dark:text-white",children:a.title}),e.jsx("div",{className:"text-xs text-slate-500",children:a.company_name}),e.jsx("div",{className:"md:hidden flex items-center gap-2 mt-2",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-[9px] font-bold uppercase ${a.type==="JOB"?"bg-slate-900 text-white dark:bg-white dark:text-slate-900":"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400"}`,children:a.type})})]}),e.jsx("td",{className:"hidden md:table-cell px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase ${a.type==="JOB"?"bg-slate-900 text-white dark:bg-white dark:text-slate-900":"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400"}`,children:a.type})}),e.jsx("td",{className:"hidden md:table-cell px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center overflow-hidden",children:a.alumni?.avatar?e.jsx("img",{src:`/storage/${a.alumni.avatar}`,alt:"Avatar",className:"w-full h-full object-cover"}):e.jsx("i",{className:"fa-solid fa-user text-[10px] text-slate-500"})}),e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300 truncate max-w-[150px]",children:a.alumni?.user?.name||"Alumni Terhapus"})]})}),e.jsx("td",{className:"hidden md:table-cell px-6 py-4 text-slate-500 text-sm",children:a.location||"-"}),e.jsx("td",{className:"hidden md:table-cell px-6 py-4 text-right",onClick:i=>i.stopPropagation(),children:e.jsx("button",{onClick:()=>m(a),className:"w-8 h-8 inline-flex items-center justify-center rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-red-100 dark:hover:bg-red-900/30 text-slate-500 hover:text-red-600 dark:text-slate-400 dark:hover:text-red-400 transition-all hover:scale-110 active:scale-95",title:"Hapus",children:e.jsx("i",{className:"fa-solid fa-trash text-xs"})})})]}),c[a.id]&&e.jsx("tr",{className:"md:hidden bg-slate-50/50 dark:bg-slate-800/30 animate-slide-down",children:e.jsx("td",{colSpan:"2",className:"px-4 py-4 border-b border-slate-100 dark:border-slate-800",children:e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider col-span-1",children:"Lokasi"}),e.jsx("div",{className:"col-span-2 text-slate-700 dark:text-slate-300",children:a.location||"-"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider col-span-1",children:"Oleh"}),e.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden",children:a.alumni?.avatar?e.jsx("img",{src:`/storage/${a.alumni.avatar}`,alt:"Avatar",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-user text-[8px]"})})}),e.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:a.alumni?.user?.name})]})]}),e.jsx("div",{className:"pt-2 flex justify-end",children:e.jsxs("button",{onClick:i=>{i.stopPropagation(),m(a)},className:"px-3 py-1.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-xs font-bold flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-trash"})," Hapus"]})})]})})})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400 italic",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-folder-open text-2xl opacity-50"}),e.jsx("span",{children:"Belum ada data peluang karir."})]})})})})]})}),e.jsx("div",{className:"px-6 py-4 border-t border-slate-100 dark:border-slate-800",children:e.jsx(C,{links:l.links})})]}),e.jsx(T,{show:f,onClose:h,onConfirm:v,title:"Hapus Peluang Karir",description:`Anda yakin ingin menghapus "${r?.title}"? Tindakan ini tidak dapat dibatalkan.`,processing:b})]})}export{K as default};

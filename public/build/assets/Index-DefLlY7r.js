import{u as C,r as a,b as j,j as e,H as I,L as p,R}from"./app-B_Mbdn19.js";import{l as A}from"./lodash-DakPdX_6.js";import{A as L}from"./AdminLayout-g5Vt-a8U.js";import{P as T}from"./Pagination-CF7X7-fb.js";import{D as W}from"./DeleteConfirmModal-BAH9MMz3.js";/* empty css            */import"./Modal-Bnb--VwK.js";const k=({category:s})=>{const l={Webinar:"bg-indigo-100 text-indigo-600 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800",Workshop:"bg-amber-100 text-amber-600 border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800",Seminar:"bg-purple-100 text-purple-600 border-purple-200 dark:bg-purple-900/30 dark:text-purple-400 dark:border-purple-800",Reuni:"bg-pink-100 text-pink-600 border-pink-200 dark:bg-pink-900/30 dark:text-pink-400 dark:border-pink-800",Lowongan:"bg-emerald-100 text-emerald-600 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800",General:"bg-slate-100 text-slate-600 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"},n=l[s]||l.General;return e.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold border ${n}`,children:s})};function K({events:s,filters:l}){const{addToast:n}=C(),[i,v]=a.useState({search:l.search||"",category:l.category||""}),[h,b]=a.useState(!1),[o,N]=a.useState({}),[w,c]=a.useState(!1),[x,g]=a.useState(null),[y,m]=a.useState(!1),S=a.useCallback(A.debounce(t=>{j.get(route("admin.events.index"),t,{preserveState:!0,preserveScroll:!0,replace:!0,onFinish:()=>b(!1)})},400),[]),u=(t,d)=>{const r={...i,[t]:d};v(r),b(!0),S(r)},D=t=>{N(d=>({...d,[t]:!d[t]}))},f=t=>{g(t),c(!0)},E=()=>{x&&(m(!0),j.delete(route("admin.events.destroy",x.id),{onSuccess:()=>{c(!1),m(!1),g(null),n("Event berhasil dihapus!","success")},onError:()=>{m(!1),n("Gagal menghapus event.","error")}}))};return e.jsxs(L,{children:[e.jsx(I,{title:"Agenda & Events"}),e.jsxs("div",{className:"mb-6 flex flex-col md:flex-row md:items-center justify-between gap-4 animate-fade-in-down",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tight",children:"Agenda & Events"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Kelola jadwal kegiatan, webinar, dan reuni alumni."})]}),e.jsxs(p,{href:route("admin.events.create"),className:"bg-pink-600 hover:bg-pink-700 text-white px-6 py-2.5 rounded-full font-medium shadow-lg shadow-pink-500/30 transition-all flex items-center justify-center gap-2 transform hover:-translate-y-0.5 text-sm w-full md:w-auto",children:[e.jsx("i",{className:"fa-solid fa-calendar-plus"})," Tambah Event"]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-5 mb-6 shadow-sm space-y-4 transition-all hover:shadow-md",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("i",{className:`fa-solid fa-magnifying-glass absolute left-4 top-3.5 text-slate-400 text-sm transition-colors ${h?"text-brand-500":""}`}),e.jsx("input",{type:"text",placeholder:"Cari judul event atau lokasi...",value:i.search,onChange:t=>u("search",t.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl text-sm text-slate-800 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all focus:scale-[1.005]"}),h&&e.jsx("div",{className:"absolute right-4 top-3.5",children:e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin text-brand-500 text-sm"})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.jsx("div",{className:"relative",children:e.jsxs("select",{value:i.category,onChange:t=>u("category",t.target.value),className:"w-full py-2 px-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl text-xs text-slate-600 dark:text-slate-300 focus:border-blue-500 outline-none cursor-pointer transition-colors hover:border-blue-300",children:[e.jsx("option",{value:"",children:"SEMUA KATEGORI"}),e.jsx("option",{value:"Webinar",children:"Webinar"}),e.jsx("option",{value:"Workshop",children:"Workshop"}),e.jsx("option",{value:"Seminar",children:"Seminar"}),e.jsx("option",{value:"Reuni",children:"Reuni"}),e.jsx("option",{value:"Lowongan",children:"Job Fair"})]})})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl overflow-hidden shadow-sm",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-800 text-[10px] uppercase tracking-wider text-slate-500 dark:text-slate-400 font-bold",children:[e.jsx("th",{className:"pl-4 pr-2 py-4 md:hidden w-8"}),e.jsx("th",{className:"px-2 md:px-6 py-4 min-w-[200px] md:min-w-0",children:"Event Info"}),e.jsx("th",{className:"px-6 py-4 hidden md:table-cell",children:"Jadwal & Lokasi"}),e.jsx("th",{className:"px-6 py-4 hidden md:table-cell",children:"Kategori"}),e.jsx("th",{className:"px-6 py-4 hidden md:table-cell text-right",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:s.data.length>0?s.data.map((t,d)=>e.jsxs(R.Fragment,{children:[e.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors group cursor-pointer md:cursor-default ${o[t.id]?"bg-slate-50 dark:bg-slate-800/50":""}`,onClick:()=>D(t.id),children:[e.jsx("td",{className:"pl-4 pr-2 py-4 md:hidden align-middle",children:e.jsx("div",{className:`w-6 h-6 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-400 transition-transform duration-300 ${o[t.id]?"rotate-180 bg-blue-50 text-blue-500":""}`,children:e.jsx("i",{className:"fa-solid fa-chevron-down text-[10px]"})})}),e.jsx("td",{className:"px-2 md:px-6 py-4",children:e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs("div",{className:"w-12 h-12 rounded-xl bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center text-center flex-shrink-0 group-hover:border-blue-200 transition-colors",children:[e.jsx("span",{className:"text-[9px] uppercase font-bold text-red-500",children:new Date(t.event_date).toLocaleDateString("id-ID",{month:"short"})}),e.jsx("span",{className:"text-lg font-black text-slate-800 dark:text-slate-200 leading-none",children:new Date(t.event_date).getDate()})]}),e.jsxs("div",{className:"max-w-xs min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white line-clamp-1 group-hover:text-blue-600 transition-colors",children:t.title}),e.jsxs("p",{className:"text-[11px] text-slate-500 mt-1 line-clamp-1 md:line-clamp-2",children:[t.description.replace(/<[^>]*>?/gm,"").substring(0,60),"..."]})]})]})}),e.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 dark:text-slate-300",children:[e.jsx("i",{className:"fa-regular fa-clock text-slate-400 w-4"}),new Date(t.event_date).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})," WIB"]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 dark:text-slate-300",children:[e.jsx("i",{className:"fa-solid fa-location-dot text-slate-400 w-4"}),e.jsx("span",{className:"truncate max-w-[150px]",title:t.location,children:t.location})]})]})}),e.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:e.jsx(k,{category:t.category||"General"})}),e.jsx("td",{className:"px-6 py-4 hidden md:table-cell text-right",onClick:r=>r.stopPropagation(),children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(p,{href:route("admin.events.edit",t.id),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-blue-100 dark:hover:bg-blue-900/30 text-slate-500 hover:text-blue-600 dark:text-slate-400 dark:hover:text-blue-400 transition-all hover:scale-110 active:scale-95",children:e.jsx("i",{className:"fa-solid fa-pen-to-square text-xs"})}),e.jsx("button",{onClick:()=>f(t),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-red-100 dark:hover:bg-red-900/30 text-slate-500 hover:text-red-600 dark:text-slate-400 dark:hover:text-red-400 transition-all hover:scale-110 active:scale-95",children:e.jsx("i",{className:"fa-solid fa-trash text-xs"})})]})})]}),o[t.id]&&e.jsx("tr",{className:"md:hidden bg-slate-50/50 dark:bg-slate-800/30 animate-slide-down",children:e.jsx("td",{colSpan:"2",className:"px-4 py-4 border-b border-slate-100 dark:border-slate-800",children:e.jsxs("div",{className:"space-y-4 text-sm",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center",children:[e.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider col-span-1",children:"Kategori"}),e.jsx("div",{className:"col-span-2",children:e.jsx(k,{category:t.category||"General"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 items-start",children:[e.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider col-span-1 pt-1",children:"Detail Info"}),e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-700 dark:text-slate-300",children:[e.jsx("i",{className:"fa-regular fa-clock text-slate-400 w-4 text-center"}),new Date(t.event_date).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})," WIB"]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-700 dark:text-slate-300",children:[e.jsx("i",{className:"fa-solid fa-location-dot text-slate-400 w-4 text-center"}),t.location]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-3 border-t border-slate-200 dark:border-slate-700 mt-2",children:[e.jsxs(p,{href:route("admin.events.edit",t.id),className:"flex-1 py-2 px-3 rounded-lg bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400 text-xs font-bold uppercase tracking-wider flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-pen"})," Edit"]}),e.jsxs("button",{onClick:r=>{r.stopPropagation(),f(t)},className:"flex-1 py-2 px-3 rounded-lg bg-red-50 text-red-600 dark:bg-red-900/30 dark:text-red-400 text-xs font-bold uppercase tracking-wider flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-trash"})," Hapus"]})]})]})})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center justify-center animate-fade-in",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4 text-slate-300 dark:text-slate-600",children:e.jsx("i",{className:"fa-solid fa-calendar-xmark text-2xl"})}),e.jsx("p",{className:"text-sm font-bold",children:"Belum ada agenda event yang dibuat."})]})})})})]})}),e.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800",children:e.jsx(T,{links:s.links})})]}),e.jsx(W,{show:w,onClose:()=>c(!1),onConfirm:E,processing:y,title:"Hapus Event?",description:`Apakah Anda yakin ingin menghapus event "${x?.title}"?`})]})}export{K as default};

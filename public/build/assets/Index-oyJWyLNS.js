import{u as v,r as a,b as w,j as e,H as y,R as S}from"./app-B_Mbdn19.js";import{A}from"./AdminLayout-g5Vt-a8U.js";import{P as L}from"./Pagination-CF7X7-fb.js";import{l as P}from"./lodash-DakPdX_6.js";/* empty css            */function _({auth:o,logs:l={data:[],links:[]},filters:m={}}){const{addToast:p}=v(),[h,u]=a.useState({search:m?.search||""}),[r,d]=a.useState(!1),[i,b]=a.useState({}),f=t=>{b(s=>({...s,[t]:!s[t]}))},j=a.useCallback(P.debounce(t=>{w.get(route("admin.logs.index"),t,{preserveState:!0,preserveScroll:!0,replace:!0,onFinish:()=>d(!1)})},500),[]),g=(t,s)=>{u(k=>{const x={...k,[t]:s};return d(!0),j(x),x})},N=()=>{p("Mempersiapkan file export...","success");const t=new URLSearchParams(window.location.search);window.location.href=`${route("admin.logs.export")}?${t.toString()}`},n=l?.data||[],c=l?.links||[];return e.jsxs(A,{user:o?.user,header:"Activity Logs",children:[e.jsx(y,{title:"Activity Logs"}),e.jsxs("div",{className:"mb-6 flex flex-col md:flex-row md:items-center justify-between gap-4 animate-fade-in-down",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tight",children:"Activity Logs"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Pantau aktivitas pengguna dan admin dalam sistem."})]}),e.jsx("div",{className:"flex flex-wrap items-center gap-3",children:e.jsxs("button",{onClick:N,className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 text-xs font-bold uppercase tracking-wider rounded-lg shadow-sm transition-all active:scale-95 flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-file-csv text-green-600 text-base"})," Export CSV"]})})]}),e.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-5 mb-6 shadow-sm space-y-4 transition-all hover:shadow-md",children:e.jsxs("div",{className:"relative group",children:[e.jsx("i",{className:`fa-solid fa-magnifying-glass absolute left-4 top-3.5 text-slate-400 text-sm transition-colors ${r?"text-brand-500":""}`}),e.jsx("input",{type:"text",placeholder:"Cari User, Action, Description, atau IP...",value:h.search,onChange:t=>g("search",t.target.value),autoComplete:"off",autoCorrect:"off",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl text-sm text-slate-800 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all focus:scale-[1.005]"}),r&&e.jsx("div",{className:"absolute right-4 top-3.5",children:e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin text-brand-500 text-sm"})})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl shadow-sm overflow-hidden",children:[e.jsx("div",{className:"w-full",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-800 text-[10px] uppercase tracking-wider text-slate-500 dark:text-slate-400 font-bold",children:[e.jsx("th",{className:"pl-4 pr-2 py-4 md:hidden w-8"}),e.jsx("th",{className:"px-2 md:px-6 py-4",children:"User"}),e.jsx("th",{className:"px-2 md:px-6 py-4",children:"Action"}),e.jsx("th",{className:"hidden md:table-cell px-6 py-4",children:"Description"}),e.jsx("th",{className:"hidden md:table-cell px-6 py-4",children:"IP Address"}),e.jsx("th",{className:"hidden md:table-cell px-6 py-4",children:"Time"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:n.length>0?n.map((t,s)=>e.jsxs(S.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors group animate-fade-in-up cursor-pointer md:cursor-default",style:{animationDelay:`${s*50}ms`},onClick:()=>f(t.id),children:[e.jsx("td",{className:"pl-4 pr-2 py-4 md:hidden align-middle",children:e.jsx("div",{className:`w-6 h-6 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-400 transition-transform duration-300 ${i[t.id]?"rotate-180 bg-blue-50 text-blue-500":""}`,children:e.jsx("i",{className:"fa-solid fa-chevron-down text-[10px]"})})}),e.jsx("td",{className:"px-2 md:px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-xs font-bold text-slate-500 dark:text-slate-400",children:t.user?t.user.name.charAt(0):"?"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white truncate",children:t.user?t.user.name:"System/Guest"}),e.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:t.user?t.user.email:"-"})]})]})}),e.jsx("td",{className:"px-2 md:px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] font-bold bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:t.action})}),e.jsx("td",{className:"hidden md:table-cell px-6 py-4 text-xs text-slate-600 dark:text-slate-300",children:t.description}),e.jsx("td",{className:"hidden md:table-cell px-6 py-4 text-xs font-mono text-slate-500",children:t.ip_address}),e.jsx("td",{className:"hidden md:table-cell px-6 py-4 text-xs text-slate-500",children:new Date(t.created_at).toLocaleString("id-ID")})]}),i[t.id]&&e.jsx("tr",{className:"md:hidden bg-slate-50/50 dark:bg-slate-800/30 animate-slide-down",children:e.jsx("td",{colSpan:"3",className:"px-4 py-4 border-b border-slate-100 dark:border-slate-800",children:e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Description"}),e.jsx("p",{className:"text-xs text-slate-700 dark:text-slate-300 mt-1",children:t.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"IP Address"}),e.jsx("p",{className:"text-xs font-mono text-slate-600 dark:text-slate-400 mt-1",children:t.ip_address})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Time"}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-1",children:new Date(t.created_at).toLocaleString("id-ID")})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"User Agent"}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1 break-all",children:t.user_agent})]})]})})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center justify-center animate-fade-in",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4 text-slate-300 dark:text-slate-600",children:e.jsx("i",{className:"fa-solid fa-clipboard-list text-2xl"})}),e.jsx("p",{className:"text-sm font-bold",children:"Tidak ada log aktivitas ditemukan"})]})})})})]})}),c.length>0&&e.jsx("div",{className:"border-t border-slate-200 dark:border-slate-800 p-4",children:e.jsx(L,{links:c})})]})]})}export{_ as default};

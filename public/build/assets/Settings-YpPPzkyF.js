import{d as D,u as A,r as o,a as x,j as e,H as S,b as _}from"./app-B_Mbdn19.js";import{A as C}from"./AdminLayout-g5Vt-a8U.js";import{I as l}from"./InputLabel-DKZrLUt7.js";import{I as d}from"./InputText-BzWTL9kz.js";import{D as P}from"./DeleteConfirmModal-BAH9MMz3.js";/* empty css            */import"./Modal-Bnb--VwK.js";function L({admins:p}){const{auth:h}=D().props,{addToast:b}=A(),[n,u]=o.useState("profile"),r=x({name:h.user.name,email:h.user.email}),j=s=>{s.preventDefault(),r.post(route("admin.settings.profile"),{preserveScroll:!0})},t=x({current_password:"",password:"",password_confirmation:""}),v=s=>{s.preventDefault(),t.post(route("admin.settings.password"),{preserveScroll:!0,onSuccess:()=>t.reset()})},a=x({name:"",email:"",password:"",password_confirmation:""}),f=s=>{s.preventDefault(),a.post(route("admin.settings.store_admin"),{preserveScroll:!0,onSuccess:()=>a.reset()})},[i,g]=o.useState(null),[w,m]=o.useState(!1),[N,c]=o.useState(!1),k=s=>{g(s),m(!0)},y=()=>{i&&(c(!0),_.delete(route("admin.settings.delete_admin",i.id),{onSuccess:()=>{m(!1),c(!1),g(null),b("Admin berhasil dihapus!","success")},onError:()=>{c(!1),b("Gagal menghapus admin.","error")}}))};return e.jsxs(C,{children:[e.jsx(S,{title:"Pengaturan Admin"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tight",children:"Pengaturan"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Kelola profil akun Anda dan manajemen tim administrator."})]}),e.jsxs("div",{className:"flex space-x-6 border-b border-slate-200 dark:border-slate-800 mb-8",children:[e.jsxs("button",{onClick:()=>u("profile"),className:`pb-3 text-sm font-bold transition-colors relative ${n==="profile"?"text-brand-600 dark:text-brand-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:["Profil Saya",n==="profile"&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-brand-600 dark:bg-brand-400 rounded-t-full"})]}),e.jsxs("button",{onClick:()=>u("team"),className:`pb-3 text-sm font-bold transition-colors relative ${n==="team"?"text-brand-600 dark:text-brand-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:["Manajemen Admin",n==="team"&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-brand-600 dark:bg-brand-400 rounded-t-full"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n==="profile"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm",children:[e.jsx("h3",{className:"text-base font-bold text-slate-900 dark:text-white mb-4 pb-4 border-b border-slate-100 dark:border-slate-800",children:"Informasi Akun"}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{value:"Nama Lengkap"}),e.jsx(d,{value:r.data.name,onChange:s=>r.setData("name",s.target.value),className:"mt-1",placeholder:"Nama Lengkap Anda"}),r.errors.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.errors.name})]}),e.jsxs("div",{children:[e.jsx(l,{value:"Email"}),e.jsx(d,{type:"email",value:r.data.email,onChange:s=>r.setData("email",s.target.value),className:"mt-1",placeholder:"email@domain.com"}),r.errors.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.errors.email})]}),e.jsx("div",{className:"pt-2 text-right",children:e.jsx("button",{type:"submit",disabled:r.processing,className:"px-6 py-2 bg-brand-600 hover:bg-brand-700 text-white text-xs font-bold rounded-lg shadow-lg shadow-brand-500/30 transition-all",children:r.processing?"Menyimpan...":"Simpan Perubahan"})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm",children:[e.jsx("h3",{className:"text-base font-bold text-slate-900 dark:text-white mb-4 pb-4 border-b border-slate-100 dark:border-slate-800",children:"Ganti Password"}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{value:"Password Saat Ini"}),e.jsx(d,{type:"password",value:t.data.current_password,onChange:s=>t.setData("current_password",s.target.value),className:"mt-1",placeholder:"••••••••"}),t.errors.current_password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:t.errors.current_password})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{value:"Password Baru"}),e.jsx(d,{type:"password",value:t.data.password,onChange:s=>t.setData("password",s.target.value),className:"mt-1",placeholder:"••••••••"}),t.errors.password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:t.errors.password})]}),e.jsxs("div",{children:[e.jsx(l,{value:"Konfirmasi Password"}),e.jsx(d,{type:"password",value:t.data.password_confirmation,onChange:s=>t.setData("password_confirmation",s.target.value),className:"mt-1",placeholder:"••••••••"})]})]}),e.jsx("div",{className:"pt-2 text-right",children:e.jsx("button",{type:"submit",disabled:t.processing,className:"px-6 py-2 bg-slate-800 hover:bg-slate-900 text-white text-xs font-bold rounded-lg shadow-lg transition-all dark:bg-slate-700 dark:hover:bg-slate-600",children:t.processing?"Menyimpan...":"Update Password"})})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"fa-solid fa-shield-halved text-blue-600 dark:text-blue-400 text-xl mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300 text-sm",children:"Keamanan Akun"}),e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400 mt-1 leading-relaxed",children:"Pastikan menggunakan password yang kuat. Anda terdaftar sebagai Administrator, yang memiliki akses penuh ke data alumni dan konten website."})]})]})})})]}),n==="team"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center",children:[e.jsx("h3",{className:"text-base font-bold text-slate-900 dark:text-white",children:"Daftar Administrator"}),e.jsxs("span",{className:"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 px-2.5 py-0.5 rounded-full text-xs font-bold",children:[p.length," User"]})]}),e.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:p.map(s=>e.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-500 dark:text-slate-400 font-bold",children:s.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[s.name,s.is_current_user&&e.jsx("span",{className:"text-[10px] bg-green-100 text-green-600 px-1.5 py-0.5 rounded border border-green-200",children:"You"})]}),e.jsx("p",{className:"text-xs text-slate-500",children:s.email})]})]}),!s.is_current_user&&e.jsx("button",{onClick:()=>k(s),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-red-50 text-red-500 hover:bg-red-100 hover:text-red-600 transition-colors",title:"Hapus Admin",children:e.jsx("i",{className:"fa-solid fa-trash text-xs"})})]},s.id))})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-sm font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-user-plus text-brand-600"})," Tambah Admin Baru"]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{value:"Nama"}),e.jsx(d,{value:a.data.name,onChange:s=>a.setData("name",s.target.value),placeholder:"Nama admin baru",className:"mt-1"}),a.errors.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.errors.name})]}),e.jsxs("div",{children:[e.jsx(l,{value:"Email"}),e.jsx(d,{type:"email",value:a.data.email,onChange:s=>a.setData("email",s.target.value),placeholder:"email@contoh.com",className:"mt-1"}),a.errors.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.errors.email})]}),e.jsxs("div",{children:[e.jsx(l,{value:"Password"}),e.jsx(d,{type:"password",value:a.data.password,onChange:s=>a.setData("password",s.target.value),placeholder:"••••••••",className:"mt-1"}),a.errors.password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.errors.password})]}),e.jsxs("div",{children:[e.jsx(l,{value:"Konfirmasi Password"}),e.jsx(d,{type:"password",value:a.data.password_confirmation,onChange:s=>a.setData("password_confirmation",s.target.value),placeholder:"••••••••",className:"mt-1"})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{type:"submit",disabled:a.processing,className:"w-full py-2.5 bg-brand-600 hover:bg-brand-700 text-white text-xs font-bold rounded-xl shadow-lg shadow-brand-500/30 transition-all",children:a.processing?"Menambahkan...":"Tambah Admin"})})]})]})})]})]}),e.jsx(P,{show:w,onClose:()=>m(!1),onConfirm:y,processing:N,title:"Hapus Admin?",description:`Apakah Anda yakin ingin menghapus akses admin untuk "${i?.name}"? Tindakan ini tidak dapat dibatalkan.`})]})}export{L as default};
